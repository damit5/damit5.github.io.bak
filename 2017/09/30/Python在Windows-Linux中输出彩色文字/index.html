<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Python在Windows/Linux中输出彩色文字 · Damit5's Blog</title><meta name="description" content="纸上得来终觉浅，绝知此事要躬行。"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/jekyll.css"><!--[if lt IE 9]>
<script src="js/html5shiv.min.js"></script>
<script src="js/respond.min.js"></script>
<![endif]--></head><body><header class="row-flex-row limit-width vh-center"><a href="/" class="logo"><img src="/favicon.png"></a><nav><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-link">主页</a></li><li class="nav-list-item"><a href="/archives/" class="nav-link active">   博客</a></li><li class="nav-list-item"><a href="http://damit5.kiwi/AboutMe/" target="_blank" class="nav-link">关于我</a></li><li class="nav-list-item"><a href="http://damit5.kiwi/Link/" target="_blank" class="nav-link">友情链接</a></li><li class="nav-list-item"><a href="https://github.com/damit5" target="_blank" class="nav-link">github</a></li><li class="nav-list-item"><a href="mailto:damit5@protonmail.com" target="_blank" class="nav-link">email</a></li><li class="nav-list-item"><a href="/atom.xml" class="nav-link">rss</a></li></ul></nav></header><div class="container limit-width"><section class="row-flex-row"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2017/09/30/Python在Windows-Linux中输出彩色文字/" class="post-title-link">Python在Windows/Linux中输出彩色文字</a></h2><div class="post-meta"><ul class="post-tag-list"><li class="post-tag-item"><a href="/tags/Python/" class="post-tag-link">Python</a></li></ul><div class="post-time">2017年9月30日 星期六</div></div><div class="post-content"><script src="/assets/js/APlayer.min.js"> </script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本来今天开开心心的打算写一个简单的端口扫描器来学习Python的网络编程，不过终端输出完全一个颜色不仅难看而且还伤眼睛</p>
<p>于是乎，上网搜寻了一大堆资料，测试了一下午，没有成功（心态崩溃）</p>
<p>不过，还好有<a href="http://lu4n.com/" target="_blank" rel="external">luan牛</a>的帮忙  O(∩_∩)O~</p>
<p>win下输出彩色文字，网上有两种方法一种是用system执行命令来设置颜色，感觉还是不太好，用ctypes模块实现更好点。</p>
<p>linux下设置颜色，网上只找到了一种方法</p>
<a id="more"></a>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">import platform</div><div class="line">if &apos;Windows&apos; in platform.system():</div><div class="line">    import sys</div><div class="line">    import ctypes</div><div class="line">    __stdInputHandle = -10</div><div class="line">    __stdOutputHandle = -11</div><div class="line">    __stdErrorHandle = -12</div><div class="line">    __foreGroundBLUE = 0x09</div><div class="line">    __foreGroundGREEN = 0x0a</div><div class="line">    __foreGroundRED = 0x0c</div><div class="line">    __foreGroundYELLOW = 0x0e</div><div class="line">    stdOutHandle=ctypes.windll.kernel32.GetStdHandle(__stdOutputHandle)</div><div class="line">    def setCmdColor(color,handle=stdOutHandle):</div><div class="line">        return ctypes.windll.kernel32.SetConsoleTextAttribute(handle, color)</div><div class="line">    def resetCmdColor():</div><div class="line">        setCmdColor(__foreGroundRED | __foreGroundGREEN | __foreGroundBLUE)</div><div class="line">    def printBlue(msg):</div><div class="line">        setCmdColor(__foreGroundBLUE)</div><div class="line">        sys.stdout.write(msg + &apos;\n&apos;)</div><div class="line">        resetCmdColor()</div><div class="line">    def printGreen(msg):</div><div class="line">        setCmdColor(__foreGroundGREEN)</div><div class="line">        sys.stdout.write(msg + &apos;\n&apos;)</div><div class="line">        resetCmdColor()</div><div class="line">    def printRed(msg):</div><div class="line">        setCmdColor(__foreGroundRED)</div><div class="line">        sys.stdout.write(msg + &apos;\n&apos;)</div><div class="line">        resetCmdColor()</div><div class="line">    def printYellow(msg):</div><div class="line">        setCmdColor(__foreGroundYELLOW)</div><div class="line">        sys.stdout.write(msg + &apos;\n&apos;)</div><div class="line">        resetCmdColor()</div><div class="line">else:</div><div class="line">    STYLE = &#123;</div><div class="line">        &apos;fore&apos;:&#123;</div><div class="line">               &apos;red&apos;: 31,</div><div class="line">               &apos;green&apos;: 32,</div><div class="line">               &apos;yellow&apos;: 33,</div><div class="line">               &apos;blue&apos;: 34,</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    def UseStyle(msg, mode = &apos;&apos;, fore = &apos;&apos;, back = &apos;40&apos;):</div><div class="line">        fore  = &apos;%s&apos; % STYLE[&apos;fore&apos;][fore] if STYLE[&apos;fore&apos;].has_key(fore) else &apos;&apos;</div><div class="line">        style = &apos;;&apos;.join([s for s in [mode, fore, back] if s])</div><div class="line">        style = &apos;\033[%sm&apos; % style if style else &apos;&apos;</div><div class="line">        end   = &apos;\033[%sm&apos; % 0 if style else &apos;&apos;</div><div class="line">        return &apos;%s%s%s&apos; % (style, msg, end)</div><div class="line">    def printRed(msg):</div><div class="line">        print UseStyle(msg,fore=&apos;red&apos;)</div><div class="line">    def printGreen(msg):</div><div class="line">        print UseStyle(msg,fore=&apos;green&apos;)</div><div class="line">    def printYellow(msg):</div><div class="line">        print UseStyle(msg,fore=&apos;yellow&apos;)</div><div class="line">    def printBlue(msg):</div><div class="line">        print UseStyle(msg,fore=&apos;blue&apos;)</div></pre></td></tr></table></figure>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>用起来很容易，直接<code>from color import *</code>就可以用了，有4种常用颜色可以使用，分别写了4个函数：</p>
<ul>
<li>成功信息 <code>printGreen</code></li>
<li>失败信息 <code>printRed</code></li>
<li>提示信息 <code>printBlue</code></li>
<li>警告信息 <code>printYellow</code></li>
</ul>
</div></article><div class="pagination"><a href="/2017/09/30/Python实现简单端口扫描器的编写/" class="pagination-prev">PREV</a><a href="/2017/09/30/MySQL-PHP手工联合查询注入/" class="pagination-next">NEXT</a></div><div class="comments"></div></div><aside class="sidebar"><h3>分类标签</h3><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Metasploit-Framework/">Metasploit-Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/其他/">其他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/权限维持/">权限维持</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/渗透测试/">渗透测试</a></li></ul><h3>最新文章</h3><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/test-music/">test-music</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Windows-MySQL-的安装/">Windows MySQL 的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/利用Python-Selenium库模拟登陆/">利用Python Selenium库模拟登陆</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Windows-Shift-后门/">Windows Shift 后门</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Python-socket模块实现简易的通信/">Python socket模块实现简易的通信</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Python-argparse-模块的简易使用/">Python argparse 模块的简易使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/MSFvenom使用总结/">MSFvenom使用总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Meterpreter-常用命令和后渗透/">Meterpreter 常用命令和后渗透</a></li></ul></aside></section></div><div class="extra"></div><footer class="footer"><div class="row-flex-row limit-width vh-center"><div class="copyright"><P>© 2017 <a href="/">Damit 5</P></div><div class="power"><p><a href="http://pinggod.com/">Sean Sun</a>, 
<a href="https://hexo.io">Hexo</a>, 
<a href="https://github.com/">GitHub</a>, 
<a href="https://jekyllrb.com/">Jekyll</a></p></div></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-80781234-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?ee75cf111111aa99f8540efa2570970";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>